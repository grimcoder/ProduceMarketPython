from flask.ext.api import FlaskAPI
from flask import  request
from flask.ext.cors import CORS
import json

app = FlaskAPI(__name__)
CORS(app)


@app.route("/api/prices")
def prices():
  pricesStr = open('./../data/prices.json')
  id = request.args.get('id')
  prices = json.load(pricesStr)

  if (id):
      return filter(
          lambda i:
          str(i['Id']) == id, prices)

  return prices


if __name__ == '__main__':
    app.run(debug=True, port=3001, threaded=True)